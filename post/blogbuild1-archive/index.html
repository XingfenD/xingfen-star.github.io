<!DOCTYPE html>
<html lang="zh" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="Archive页介绍 archive页面展示了当前博文的所有类型，在此之下依据年份时序展示所有博文。\n改造计划:\n添加对以tag分类的支持\n支持在archive页展示tag模块\n修改tag&ndash;tile的大小\n修改tag&ndash;tile的排列方式\n为tag分类的每一个tile添加不同颜色\n修复在archive页面的category tile展示异常\n修复category详细页的文章数量异常\n添加archive页面对应配置项\n使用开发者工具检查archive页面元素 发现category分类的元素为：\n&lt;h2 class=&#34;section-title&#34;&gt;类别 - Categories&lt;/h2&gt; &lt;div class=&#34;subsection-list&#34;&gt; &lt;div class=&#34;article-list--tile&#34;&gt; &lt;article&gt; &lt;/article&gt; &lt;/div&gt; &lt;/div&gt; 显然&lt;div class=&quot;article-list--tile&quot;&gt;的class属性命名并不合理，因为在archive首页展示的category列表的每一个tile并不是一篇article，因此应当修改为&lt;div class=&quot;category-list--tile&quot;&gt;。\n在文件themes/hugo-theme-stack/layouts/_default/archives.html中将&lt;div class=&quot;article-list--tile&quot;&gt;修改为&lt;div class=&quot;category-list--tile&quot;&gt;。\n同时将下列文件中的选择器article-list--tile修改为category-list--tile。在scss文件中建议保留原有的选择器，新增修改名称后的选择器。\nthemes/hugo-theme-stack/assets/scss/partials/article.scss themes/hugo-theme-stack/assets/scss/partials/layout/list.scss /home/fendy/Project/BlogSrc/themes/hugo-theme-stack/assets/ts/main.ts 修复category tile展示异常 本质上是没有添加对hidden文章的判断逻辑，在themes/hugo-theme-stack/layouts/_default/archives.html中添加筛选逻辑：\n&lt;h2 class=&#34;section-title&#34;&gt;类别 - {{ $cateTaxonomy.Title }}&lt;/h2&gt; &lt;div class=&#34;subsection-list&#34;&gt; &lt;div class=&#34;category-list--tile&#34;&gt; {{ range $cateTerms }} {{- $pages := .Pages -}} {{- $filteredPages := where $pages &#34;.Params.hidden&#34; &#34;!=&#34; true -}} {{ if $filteredPages }} {{ partial &#34;article-list/tile&#34; (dict &#34;context&#34; . &#34;size&#34; &#34;250x150&#34; &#34;Type&#34; &#34;taxonomy&#34;) }} {{ end }} {{ end }} &lt;/div&gt; &lt;/div&gt; 添加对tag分类的支持 支持在archive页展示tag模块 在themes/hugo-theme-stack/layouts/_default/archives.html中，类别模块的下方添加如下代码：\n{{- $tagTaxonomy := $.Site.GetPage &#34;taxonomyTerm&#34; &#34;tags&#34; -}} {{- $tagTerms := $tagTaxonomy.Pages -}} {{ if $tagTerms }} &lt;h2 class=&#34;section-title&#34;&gt;标签 - {{ $tagTaxonomy.Title }}&lt;/h2&gt; &lt;div class=&#34;subsection-list&#34;&gt; &lt;div class=&#34;tag-list--tile&#34;&gt; {{ range $tagTerms }} {{/* 获取当前标签下的所有页面 */}} {{- $pages := .Pages -}} {{/* 过滤掉 hidden 为 true 的页面 */}} {{- $filteredPages := where $pages &#34;.Params.hidden&#34; &#34;!=&#34; true -}} {{ if $filteredPages }} {{ partial &#34;article-list/tile&#34; (dict &#34;context&#34; . &#34;Type&#34; &#34;tag&#34; &#34;pages&#34; $filteredPages) }} {{ end }} {{ end }} &lt;/div&gt; &lt;/div&gt; {{ end }} 添加tag的样式并修改tag&ndash;tile的大小 在themes/hugo-theme-stack/assets/scss/partials/article.scss中添加:\n">
<title>Archive页改造</title>

<link rel='canonical' href='https://xingfend.github.io/xingfen-star.github.io/post/blogbuild1-archive/'>

<link rel="stylesheet" href="/xingfen-star.github.io/scss/style.min.c0fa910106829adb3edb67524eba5dffc21500fdd220ea53e6ba412a6f0ce2fe.css"><meta property='og:title' content="Archive页改造">
<meta property='og:description' content="Archive页介绍 archive页面展示了当前博文的所有类型，在此之下依据年份时序展示所有博文。\n改造计划:\n添加对以tag分类的支持\n支持在archive页展示tag模块\n修改tag&ndash;tile的大小\n修改tag&ndash;tile的排列方式\n为tag分类的每一个tile添加不同颜色\n修复在archive页面的category tile展示异常\n修复category详细页的文章数量异常\n添加archive页面对应配置项\n使用开发者工具检查archive页面元素 发现category分类的元素为：\n&lt;h2 class=&#34;section-title&#34;&gt;类别 - Categories&lt;/h2&gt; &lt;div class=&#34;subsection-list&#34;&gt; &lt;div class=&#34;article-list--tile&#34;&gt; &lt;article&gt; &lt;/article&gt; &lt;/div&gt; &lt;/div&gt; 显然&lt;div class=&quot;article-list--tile&quot;&gt;的class属性命名并不合理，因为在archive首页展示的category列表的每一个tile并不是一篇article，因此应当修改为&lt;div class=&quot;category-list--tile&quot;&gt;。\n在文件themes/hugo-theme-stack/layouts/_default/archives.html中将&lt;div class=&quot;article-list--tile&quot;&gt;修改为&lt;div class=&quot;category-list--tile&quot;&gt;。\n同时将下列文件中的选择器article-list--tile修改为category-list--tile。在scss文件中建议保留原有的选择器，新增修改名称后的选择器。\nthemes/hugo-theme-stack/assets/scss/partials/article.scss themes/hugo-theme-stack/assets/scss/partials/layout/list.scss /home/fendy/Project/BlogSrc/themes/hugo-theme-stack/assets/ts/main.ts 修复category tile展示异常 本质上是没有添加对hidden文章的判断逻辑，在themes/hugo-theme-stack/layouts/_default/archives.html中添加筛选逻辑：\n&lt;h2 class=&#34;section-title&#34;&gt;类别 - {{ $cateTaxonomy.Title }}&lt;/h2&gt; &lt;div class=&#34;subsection-list&#34;&gt; &lt;div class=&#34;category-list--tile&#34;&gt; {{ range $cateTerms }} {{- $pages := .Pages -}} {{- $filteredPages := where $pages &#34;.Params.hidden&#34; &#34;!=&#34; true -}} {{ if $filteredPages }} {{ partial &#34;article-list/tile&#34; (dict &#34;context&#34; . &#34;size&#34; &#34;250x150&#34; &#34;Type&#34; &#34;taxonomy&#34;) }} {{ end }} {{ end }} &lt;/div&gt; &lt;/div&gt; 添加对tag分类的支持 支持在archive页展示tag模块 在themes/hugo-theme-stack/layouts/_default/archives.html中，类别模块的下方添加如下代码：\n{{- $tagTaxonomy := $.Site.GetPage &#34;taxonomyTerm&#34; &#34;tags&#34; -}} {{- $tagTerms := $tagTaxonomy.Pages -}} {{ if $tagTerms }} &lt;h2 class=&#34;section-title&#34;&gt;标签 - {{ $tagTaxonomy.Title }}&lt;/h2&gt; &lt;div class=&#34;subsection-list&#34;&gt; &lt;div class=&#34;tag-list--tile&#34;&gt; {{ range $tagTerms }} {{/* 获取当前标签下的所有页面 */}} {{- $pages := .Pages -}} {{/* 过滤掉 hidden 为 true 的页面 */}} {{- $filteredPages := where $pages &#34;.Params.hidden&#34; &#34;!=&#34; true -}} {{ if $filteredPages }} {{ partial &#34;article-list/tile&#34; (dict &#34;context&#34; . &#34;Type&#34; &#34;tag&#34; &#34;pages&#34; $filteredPages) }} {{ end }} {{ end }} &lt;/div&gt; &lt;/div&gt; {{ end }} 添加tag的样式并修改tag&ndash;tile的大小 在themes/hugo-theme-stack/assets/scss/partials/article.scss中添加:\n">
<meta property='og:url' content='https://xingfend.github.io/xingfen-star.github.io/post/blogbuild1-archive/'>
<meta property='og:site_name' content='远楒'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:published_time' content='2025-02-02T22:46:55&#43;08:00'/><meta property='article:modified_time' content='2025-02-25T18:19:02&#43;00:00'/><meta property='og:image' content='https://xingfend.github.io/xingfen-star.github.io/post/blogbuild1-archive/blogbuild1.png' />
<meta name="twitter:title" content="Archive页改造">
<meta name="twitter:description" content="Archive页介绍 archive页面展示了当前博文的所有类型，在此之下依据年份时序展示所有博文。\n改造计划:\n添加对以tag分类的支持\n支持在archive页展示tag模块\n修改tag&ndash;tile的大小\n修改tag&ndash;tile的排列方式\n为tag分类的每一个tile添加不同颜色\n修复在archive页面的category tile展示异常\n修复category详细页的文章数量异常\n添加archive页面对应配置项\n使用开发者工具检查archive页面元素 发现category分类的元素为：\n&lt;h2 class=&#34;section-title&#34;&gt;类别 - Categories&lt;/h2&gt; &lt;div class=&#34;subsection-list&#34;&gt; &lt;div class=&#34;article-list--tile&#34;&gt; &lt;article&gt; &lt;/article&gt; &lt;/div&gt; &lt;/div&gt; 显然&lt;div class=&quot;article-list--tile&quot;&gt;的class属性命名并不合理，因为在archive首页展示的category列表的每一个tile并不是一篇article，因此应当修改为&lt;div class=&quot;category-list--tile&quot;&gt;。\n在文件themes/hugo-theme-stack/layouts/_default/archives.html中将&lt;div class=&quot;article-list--tile&quot;&gt;修改为&lt;div class=&quot;category-list--tile&quot;&gt;。\n同时将下列文件中的选择器article-list--tile修改为category-list--tile。在scss文件中建议保留原有的选择器，新增修改名称后的选择器。\nthemes/hugo-theme-stack/assets/scss/partials/article.scss themes/hugo-theme-stack/assets/scss/partials/layout/list.scss /home/fendy/Project/BlogSrc/themes/hugo-theme-stack/assets/ts/main.ts 修复category tile展示异常 本质上是没有添加对hidden文章的判断逻辑，在themes/hugo-theme-stack/layouts/_default/archives.html中添加筛选逻辑：\n&lt;h2 class=&#34;section-title&#34;&gt;类别 - {{ $cateTaxonomy.Title }}&lt;/h2&gt; &lt;div class=&#34;subsection-list&#34;&gt; &lt;div class=&#34;category-list--tile&#34;&gt; {{ range $cateTerms }} {{- $pages := .Pages -}} {{- $filteredPages := where $pages &#34;.Params.hidden&#34; &#34;!=&#34; true -}} {{ if $filteredPages }} {{ partial &#34;article-list/tile&#34; (dict &#34;context&#34; . &#34;size&#34; &#34;250x150&#34; &#34;Type&#34; &#34;taxonomy&#34;) }} {{ end }} {{ end }} &lt;/div&gt; &lt;/div&gt; 添加对tag分类的支持 支持在archive页展示tag模块 在themes/hugo-theme-stack/layouts/_default/archives.html中，类别模块的下方添加如下代码：\n{{- $tagTaxonomy := $.Site.GetPage &#34;taxonomyTerm&#34; &#34;tags&#34; -}} {{- $tagTerms := $tagTaxonomy.Pages -}} {{ if $tagTerms }} &lt;h2 class=&#34;section-title&#34;&gt;标签 - {{ $tagTaxonomy.Title }}&lt;/h2&gt; &lt;div class=&#34;subsection-list&#34;&gt; &lt;div class=&#34;tag-list--tile&#34;&gt; {{ range $tagTerms }} {{/* 获取当前标签下的所有页面 */}} {{- $pages := .Pages -}} {{/* 过滤掉 hidden 为 true 的页面 */}} {{- $filteredPages := where $pages &#34;.Params.hidden&#34; &#34;!=&#34; true -}} {{ if $filteredPages }} {{ partial &#34;article-list/tile&#34; (dict &#34;context&#34; . &#34;Type&#34; &#34;tag&#34; &#34;pages&#34; $filteredPages) }} {{ end }} {{ end }} &lt;/div&gt; &lt;/div&gt; {{ end }} 添加tag的样式并修改tag&ndash;tile的大小 在themes/hugo-theme-stack/assets/scss/partials/article.scss中添加:\n"><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://xingfend.github.io/xingfen-star.github.io/post/blogbuild1-archive/blogbuild1.png' />
    <link rel="shortcut icon" href="/xingfen-star.github.io/favicon.ico" />

    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/xingfen-star.github.io/">
                
                    

                    
                        
                        <img src="/xingfen-star.github.io/img/avatar_hu_e75ba5eda9add5a4.png" width="300"
                            height="279" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">😉</span>
                
            </figure>
            
        

        <div class="site-meta">
            <h1 class="site-name"><a href="/xingfen-star.github.io">远楒</a></h1>
            <h2 class="site-description">星分.</h2>
        </div>
    </header><ol class="menu-social">
            
                <li>
                    <a
                        href='https://space.bilibili.com/473214036'
                        target="_blank"
                        title="Bilibili"
                        rel="me"
                    >
                        
                        
                            <svg class="icon" style="width: 24;height: 24;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 2299 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1461"><path d="M1775.840814 322.588002c6.0164 1.002733 53.144869-9.525967 55.150336-6.016401 3.0082 4.5123 24.065601 155.92504 18.550567 156.927774s-44.621635 10.027334-44.621635 10.027334c-3.0082-20.556034-28.577901-147.903173-29.079268-160.938707m75.205003-14.539634l20.556034 162.944174c10.5287-0.501367 53.144869-3.509567 57.155803-4.010934-6.0164-61.668103-16.545101-158.933241-16.545101-158.93324-20.054668-4.010934-41.112069-4.010934-61.166736 0m-40.610702 226.116376s92.752838-23.564234 126.344406-12.0328c17.046467 61.668103 48.131202 407.611118 51.139402 421.649386-21.057401 2.506833-90.246004 8.523234-95.761037 10.027333-4.5123-26.071068-81.72277-403.098818-81.722771-419.643919m343.436183-207.565809c5.515034 1.5041 54.648969-5.013667 55.150335-1.5041 1.002733 12.032801 6.0164 157.42914 0.501367 157.930507s-44.621635 4.010934-44.621635 4.010934c-1.002733-20.054668-12.032801-146.90044-11.030067-160.437341m75.70637-4.010933l4.010933 160.938707c10.5287 0 52.643502 2.506833 57.155803 2.005467-1.002733-61.668103 0-158.933241 0-158.933241-20.054668-3.509567-40.610702-5.013667-61.166736-4.010933m-64.676303 216.089043s94.758304-12.534167 126.845772 2.506833c7.019134 72.196803 6.0164 408.613852 7.019134 422.652119-21.558768 0-90.246004 1.002733-95.761038 2.005467-1.002733-26.071068-39.607968-410.619319-38.103868-427.164419m-220.099977-413.627519c54.648969 278.759879 96.262404 755.058234 97.766504 785.641602 0 0 43.117535 1.002733 91.750105 4.010934C2105.740095 614.383415 2070.644427 134.575493 2071.145794 119.033126c-12.032801-13.536901-126.344406 6.0164-126.344406 6.0164m-120.328005 659.297196c-10.5287-78.213204-290.291313-166.955108-447.720454-138.377206 0 0-19.553301-172.470141-27.073801-339.425248-6.517767-143.390873-1.002733-282.770813 0.501366-305.833681-10.5287-7.5205-123.837572 46.627102-185.004308 69.188603 0 0 73.199537 309.844614 126.344406 952.59671 0 0 84.730971 9.0246 230.12731-19.051934s317.365114-115.815705 302.825481-219.097244m-341.932083 140.88404l-24.566967-176.982441c6.0164-3.0082 156.927774 53.144869 172.971507 63.172203-2.506833 11.030067-148.40454 113.810238-148.40454 113.810238M610.664628 322.588002c6.0164 1.002733 53.144869-9.525967 55.150335-6.016401 3.0082 4.5123 24.065601 155.92504 18.550568 156.927774s-44.621635 10.027334-44.621635 10.027334c-3.0082-20.556034-28.577901-147.903173-29.079268-160.938707m75.205003-14.539634l20.556034 162.944174c10.5287-0.501367 53.144869-3.509567 57.155803-4.010934-6.517767-61.668103-16.545101-158.933241-16.545101-158.93324-20.054668-4.010934-41.112069-4.010934-61.166736 0m-40.610702 226.116376s92.752838-23.564234 126.344406-12.0328c17.046467 61.668103 48.131202 407.611118 51.139402 421.649386-21.057401 2.506833-90.246004 8.523234-95.761037 10.027333-4.5123-26.071068-81.72277-403.098818-81.722771-419.643919m343.436182-207.565809c5.515034 1.5041 54.648969-5.013667 55.150336-1.5041 1.002733 12.032801 6.0164 157.42914 0.501367 157.930507s-44.621635 4.010934-44.621635 4.010934c-1.002733-20.054668-11.531434-146.90044-11.030068-160.437341m75.706371-4.010933l4.010933 160.938707c10.5287 0 52.643502 2.506833 57.155803 2.005467-1.002733-61.668103 0-158.933241 0-158.933241-20.054668-3.509567-40.610702-4.5123-61.166736-4.010933m-64.676303 216.089043s94.758304-12.534167 126.845772 2.506833c7.019134 72.196803 6.0164 408.613852 7.019134 422.652119-21.558768 0-90.246004 1.002733-95.761038 2.005467-0.501367-26.071068-39.607968-410.619319-38.103868-427.164419m-220.099977-413.627519c54.648969 278.759879 96.262404 755.058234 97.766504 785.641602 0 0 43.117535 1.002733 91.750105 4.010934-28.577901-300.318647-63.67357-780.126569-63.172203-796.170303-12.032801-13.035534-126.344406 6.517767-126.344406 6.517767m-120.328005 659.297196c-10.5287-78.213204-290.291313-166.955108-447.720454-138.377206 0 0-19.553301-172.470141-27.073801-339.425248-6.517767-143.390873-1.002733-282.770813 0.501366-305.833681C174.475608-6.308547 61.166736 47.337689 0 69.89919c0 0 73.199537 309.844614 126.344406 952.59671 0 0 84.730971 9.0246 230.12731-19.051934s317.365114-115.815705 302.825481-219.097244m-341.932083 140.88404l-24.566967-176.982441c6.0164-3.0082 156.927774 53.144869 172.971507 63.172203-2.506833 11.030067-148.40454 113.810238-148.40454 113.810238" p-id="1462"></path></svg>
                        
                    </a>
                </li>
            
                <li>
                    <a
                        href='https://github.com/xingfend'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <?xml version="1.0" encoding="UTF-8"?><svg width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M29.3444 30.4765C31.7481 29.977 33.9292 29.1108 35.6247 27.8391C38.5202 25.6676 40 22.3136 40 18.9999C40 16.6752 39.1187 14.505 37.5929 12.6668C36.7427 11.6425 39.2295 3.99989 37.02 5.02919C34.8105 6.05848 31.5708 8.33679 29.8726 7.83398C28.0545 7.29565 26.0733 6.99989 24 6.99989C22.1992 6.99989 20.4679 7.22301 18.8526 7.6344C16.5046 8.23237 14.2591 5.99989 12 5.02919C9.74086 4.05848 10.9736 11.9632 10.3026 12.7944C8.84119 14.6051 8 16.7288 8 18.9999C8 22.3136 9.79086 25.6676 12.6863 27.8391C14.6151 29.2857 17.034 30.2076 19.7401 30.6619" stroke="#707070" stroke-width="4" stroke-linecap="round"/><path d="M19.7397 30.6619C18.5812 31.937 18.002 33.1478 18.002 34.2944C18.002 35.441 18.002 38.3464 18.002 43.0106" stroke="#707070" stroke-width="4" stroke-linecap="round"/><path d="M29.3446 30.4766C30.4423 31.9174 30.9912 33.211 30.9912 34.3576C30.9912 35.5042 30.9912 38.3885 30.9912 43.0107" stroke="#707070" stroke-width="4" stroke-linecap="round"/><path d="M6 31.2155C6.89887 31.3254 7.56554 31.7387 8 32.4554C8.65169 33.5303 11.0742 37.518 13.8251 37.518C15.6591 37.518 17.0515 37.518 18.0024 37.518" stroke="#707070" stroke-width="4" stroke-linecap="round"/></svg>
                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/xingfen-star.github.io/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>主页</span>
            </a>
        </li>
        
        
        <li >
            <a href='/xingfen-star.github.io/page/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>归档</span>
            </a>
        </li>
        
        
        <li >
            <a href='/xingfen-star.github.io/page/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>搜索</span>
            </a>
        </li>
        
        
        <li >
            <a href='/xingfen-star.github.io/page/about/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>关于</span>
            </a>
        </li>
        
        
        <li >
            <a href='/xingfen-star.github.io/page/links/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>链接</span>
            </a>
        </li>
        
        <li class="menu-bottom-section">
            <ol class="menu">

                
                    <li id="dark-mode-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <span>Dark Mode</span>
                    </li>
                
                
            </ol>
        </li>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">Table of contents</h2>

        <div class="widget--toc">
            <nav id="TableOfContents">
  <ul>
    <li><a href="#archive页介绍">Archive页介绍</a></li>
    <li><a href="#使用开发者工具检查archive页面元素">使用开发者工具检查archive页面元素</a></li>
    <li><a href="#修复category-tile展示异常">修复category tile展示异常</a></li>
    <li><a href="#添加对tag分类的支持">添加对tag分类的支持</a>
      <ul>
        <li><a href="#支持在archive页展示tag模块">支持在archive页展示tag模块</a></li>
        <li><a href="#添加tag的样式并修改tagtile的大小">添加tag的样式并修改tag&ndash;tile的大小</a></li>
      </ul>
    </li>
    <li><a href="#添加archives页面对应配置项">添加archives页面对应配置项</a>
      <ul>
        <li><a href="#设计配置项">设计配置项</a></li>
        <li><a href="#修改对应源码读取配置项">修改对应源码读取配置项</a></li>
      </ul>
    </li>
    <li><a href="#修复category详细页的文章数量异常问题">修复category详细页的文章数量异常问题</a></li>
    <li><a href="#新增分类方式collections">新增分类方式：collections</a>
      <ul>
        <li><a href="#设计配置项-1">设计配置项</a></li>
        <li><a href="#修改archivehtml渲染collections列表">修改archive.html渲染collections列表</a></li>
        <li><a href="#修改配置文件">修改配置文件</a></li>
        <li><a href="#新建模板文件">新建模板文件</a></li>
        <li><a href="#效果展示">效果展示</a></li>
      </ul>
    </li>
  </ul>
</nav>
        </div>
    </section>

            
        
            
                
            
        
    </aside>


            <main class="main full-width">
    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="/xingfen-star.github.io/post/blogbuild1-archive/">
                <img src="/xingfen-star.github.io/post/blogbuild1-archive/blogbuild1_hu_84c71a6d5b30e6fe.png"
                        srcset="/xingfen-star.github.io/post/blogbuild1-archive/blogbuild1_hu_84c71a6d5b30e6fe.png 800w, /xingfen-star.github.io/post/blogbuild1-archive/blogbuild1_hu_1fa659ec3ae97b1a.png 1600w"
                        width="800" 
                        height="188" 
                        loading="lazy"
                        alt="Featured image of post Archive页改造" />
                
            </a>
        </div>
    

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/xingfen-star.github.io/categories/blog/" style="background-color: #2a9d8f; color: #fff;">
                博客搭建
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/xingfen-star.github.io/post/blogbuild1-archive/">Archive页改造</a>
        </h2>

        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Feb 02, 2025</time>
            </div>
        

        
        <div class="article-lastmod">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time>
                    Feb 25, 2025 18:19 UTC
                </time>
            </div>
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    3 minute read
                </time>
            </div>
        

    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <h2 id="archive页介绍">Archive页介绍
</h2><p>archive页面展示了当前博文的所有类型，在此之下依据年份时序展示所有博文。</p>
<p>改造计划:</p>
<ul>
<li>
<p><input disabled="" type="checkbox"> 添加对以tag分类的支持</p>
<ul>
<li>
<p><input checked="" disabled="" type="checkbox"> 支持在archive页展示tag模块</p>
</li>
<li>
<p><input checked="" disabled="" type="checkbox"> 修改tag&ndash;tile的大小</p>
</li>
<li>
<p><input disabled="" type="checkbox"> 修改tag&ndash;tile的排列方式</p>
</li>
<li>
<p><input disabled="" type="checkbox"> 为tag分类的每一个tile添加不同颜色</p>
</li>
</ul>
</li>
<li>
<p><input checked="" disabled="" type="checkbox"> 修复在archive页面的category tile展示异常</p>
</li>
<li>
<p><input checked="" disabled="" type="checkbox"> 修复category详细页的文章数量异常</p>
</li>
<li>
<p><input checked="" disabled="" type="checkbox"> 添加archive页面对应配置项</p>
</li>
</ul>
<h2 id="使用开发者工具检查archive页面元素">使用开发者工具检查archive页面元素
</h2><p>发现category分类的元素为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">h2</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;section-title&#34;</span><span class="p">&gt;</span>类别 - Categories<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;subsection-list&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;article-list--tile&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">article</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;/</span><span class="nt">article</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span></code></pre></div><p>    显然<code>&lt;div class=&quot;article-list--tile&quot;&gt;</code>的class属性命名并不合理，因为在archive首页展示的category列表的每一个tile并不是一篇article，因此应当修改为<code>&lt;div class=&quot;category-list--tile&quot;&gt;</code>。</p>
<p>    在文件<code>themes/hugo-theme-stack/layouts/_default/archives.html</code>中将<code>&lt;div class=&quot;article-list--tile&quot;&gt;</code>修改为<code>&lt;div class=&quot;category-list--tile&quot;&gt;</code>。</p>
<p>    同时将下列文件中的选择器<code>article-list--tile</code>修改为<code>category-list--tile</code>。在scss文件中建议保留原有的选择器，新增修改名称后的选择器。</p>
<ul>
<li><code>themes/hugo-theme-stack/assets/scss/partials/article.scss</code></li>
<li><code>themes/hugo-theme-stack/assets/scss/partials/layout/list.scss</code></li>
<li><code>/home/fendy/Project/BlogSrc/themes/hugo-theme-stack/assets/ts/main.ts</code></li>
</ul>
<h2 id="修复category-tile展示异常">修复category tile展示异常
</h2><p>    本质上是没有添加对hidden文章的判断逻辑，在<code>themes/hugo-theme-stack/layouts/_default/archives.html</code>中添加筛选逻辑：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nx">h2</span> <span class="nx">class</span><span class="p">=</span><span class="s">&#34;section-title&#34;</span><span class="p">&gt;</span><span class="nx">类别</span> <span class="o">-</span> <span class="p">{{</span> <span class="err">$</span><span class="nx">cateTaxonomy</span><span class="p">.</span><span class="nx">Title</span> <span class="p">}}&lt;</span><span class="o">/</span><span class="nx">h2</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nx">div</span> <span class="nx">class</span><span class="p">=</span><span class="s">&#34;subsection-list&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nx">div</span> <span class="nx">class</span><span class="p">=</span><span class="s">&#34;category-list--tile&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">{{</span> <span class="k">range</span> <span class="err">$</span><span class="nx">cateTerms</span> <span class="p">}}</span>
</span></span><span class="line"><span class="cl">                <span class="p">{{</span><span class="o">-</span> <span class="err">$</span><span class="nx">pages</span> <span class="o">:=</span> <span class="p">.</span><span class="nx">Pages</span> <span class="o">-</span><span class="p">}}</span>
</span></span><span class="line"><span class="cl">                <span class="p">{{</span><span class="o">-</span> <span class="err">$</span><span class="nx">filteredPages</span> <span class="o">:=</span> <span class="nx">where</span> <span class="err">$</span><span class="nx">pages</span> <span class="s">&#34;.Params.hidden&#34;</span> <span class="s">&#34;!=&#34;</span> <span class="kc">true</span> <span class="o">-</span><span class="p">}}</span>
</span></span><span class="line"><span class="cl">                <span class="p">{{</span> <span class="k">if</span> <span class="err">$</span><span class="nx">filteredPages</span> <span class="p">}}</span>
</span></span><span class="line"><span class="cl">                    <span class="p">{{</span> <span class="nx">partial</span> <span class="s">&#34;article-list/tile&#34;</span> <span class="p">(</span><span class="nx">dict</span> <span class="s">&#34;context&#34;</span> <span class="p">.</span> <span class="s">&#34;size&#34;</span> <span class="s">&#34;250x150&#34;</span> <span class="s">&#34;Type&#34;</span> <span class="s">&#34;taxonomy&#34;</span><span class="p">)</span> <span class="p">}}</span>
</span></span><span class="line"><span class="cl">                <span class="p">{{</span> <span class="nx">end</span> <span class="p">}}</span>
</span></span><span class="line"><span class="cl">            <span class="p">{{</span> <span class="nx">end</span> <span class="p">}}</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="o">/</span><span class="nx">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="o">/</span><span class="nx">div</span><span class="p">&gt;</span>
</span></span></code></pre></div><h2 id="添加对tag分类的支持">添加对tag分类的支持
</h2><h3 id="支持在archive页展示tag模块">支持在archive页展示tag模块
</h3><p>    在<code>themes/hugo-theme-stack/layouts/_default/archives.html</code>中，类别模块的下方添加如下代码：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl">    <span class="p">{{</span><span class="o">-</span> <span class="err">$</span><span class="nx">tagTaxonomy</span> <span class="o">:=</span> <span class="err">$</span><span class="p">.</span><span class="nx">Site</span><span class="p">.</span><span class="nx">GetPage</span> <span class="s">&#34;taxonomyTerm&#34;</span> <span class="s">&#34;tags&#34;</span> <span class="o">-</span><span class="p">}}</span>
</span></span><span class="line"><span class="cl">    <span class="p">{{</span><span class="o">-</span> <span class="err">$</span><span class="nx">tagTerms</span> <span class="o">:=</span> <span class="err">$</span><span class="nx">tagTaxonomy</span><span class="p">.</span><span class="nx">Pages</span> <span class="o">-</span><span class="p">}}</span>
</span></span><span class="line"><span class="cl">    <span class="p">{{</span> <span class="k">if</span> <span class="err">$</span><span class="nx">tagTerms</span> <span class="p">}}</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nx">h2</span> <span class="nx">class</span><span class="p">=</span><span class="s">&#34;section-title&#34;</span><span class="p">&gt;</span><span class="nx">标签</span> <span class="o">-</span> <span class="p">{{</span> <span class="err">$</span><span class="nx">tagTaxonomy</span><span class="p">.</span><span class="nx">Title</span> <span class="p">}}&lt;</span><span class="o">/</span><span class="nx">h2</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nx">div</span> <span class="nx">class</span><span class="p">=</span><span class="s">&#34;subsection-list&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nx">div</span> <span class="nx">class</span><span class="p">=</span><span class="s">&#34;tag-list--tile&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">{{</span> <span class="k">range</span> <span class="err">$</span><span class="nx">tagTerms</span> <span class="p">}}</span>
</span></span><span class="line"><span class="cl">                <span class="p">{{</span><span class="cm">/* 获取当前标签下的所有页面 */</span><span class="p">}}</span>
</span></span><span class="line"><span class="cl">                <span class="p">{{</span><span class="o">-</span> <span class="err">$</span><span class="nx">pages</span> <span class="o">:=</span> <span class="p">.</span><span class="nx">Pages</span> <span class="o">-</span><span class="p">}}</span>
</span></span><span class="line"><span class="cl">                <span class="p">{{</span><span class="cm">/* 过滤掉 hidden 为 true 的页面 */</span><span class="p">}}</span>
</span></span><span class="line"><span class="cl">                <span class="p">{{</span><span class="o">-</span> <span class="err">$</span><span class="nx">filteredPages</span> <span class="o">:=</span> <span class="nx">where</span> <span class="err">$</span><span class="nx">pages</span> <span class="s">&#34;.Params.hidden&#34;</span> <span class="s">&#34;!=&#34;</span> <span class="kc">true</span> <span class="o">-</span><span class="p">}}</span>
</span></span><span class="line"><span class="cl">                <span class="p">{{</span> <span class="k">if</span> <span class="err">$</span><span class="nx">filteredPages</span> <span class="p">}}</span>
</span></span><span class="line"><span class="cl">                    <span class="p">{{</span> <span class="nx">partial</span> <span class="s">&#34;article-list/tile&#34;</span> <span class="p">(</span><span class="nx">dict</span> <span class="s">&#34;context&#34;</span> <span class="p">.</span> <span class="s">&#34;Type&#34;</span> <span class="s">&#34;tag&#34;</span> <span class="s">&#34;pages&#34;</span> <span class="err">$</span><span class="nx">filteredPages</span><span class="p">)</span> <span class="p">}}</span>
</span></span><span class="line"><span class="cl">                <span class="p">{{</span> <span class="nx">end</span> <span class="p">}}</span>
</span></span><span class="line"><span class="cl">            <span class="p">{{</span> <span class="nx">end</span> <span class="p">}}</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="o">/</span><span class="nx">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="o">/</span><span class="nx">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">{{</span> <span class="nx">end</span> <span class="p">}}</span>
</span></span></code></pre></div><h3 id="添加tag的样式并修改tagtile的大小">添加tag的样式并修改tag&ndash;tile的大小
</h3><p>    在<code>themes/hugo-theme-stack/assets/scss/partials/article.scss</code>中添加:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-scss" data-lang="scss"><span class="line"><span class="cl"><span class="nc">.tag-list--tile</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">article</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="na">border-radius</span><span class="o">:</span> <span class="nf">var</span><span class="p">(</span><span class="o">--</span><span class="n">card-border-radius</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="na">overflow</span><span class="o">:</span> <span class="ni">hidden</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="na">position</span><span class="o">:</span> <span class="ni">relative</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="na">height</span><span class="o">:</span> <span class="mi">350</span><span class="kt">px</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="na">width</span><span class="o">:</span> <span class="mi">250</span><span class="kt">px</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="na">box-shadow</span><span class="o">:</span> <span class="nf">var</span><span class="p">(</span><span class="o">--</span><span class="n">shadow-l1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="na">transition</span><span class="o">:</span> <span class="n">box-shadow</span> <span class="mi">0</span><span class="mf">.3</span><span class="kt">s</span> <span class="ni">ease</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="na">background-color</span><span class="o">:</span> <span class="nf">var</span><span class="p">(</span><span class="o">--</span><span class="n">card-background</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">&amp;</span><span class="nd">:hover</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="na">box-shadow</span><span class="o">:</span> <span class="nf">var</span><span class="p">(</span><span class="o">--</span><span class="n">shadow-l2</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="nc">.article-details</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="na">border-radius</span><span class="o">:</span> <span class="nf">var</span><span class="p">(</span><span class="o">--</span><span class="n">card-border-radius</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="na">position</span><span class="o">:</span> <span class="ni">relative</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="na">height</span><span class="o">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="na">width</span><span class="o">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="na">display</span><span class="o">:</span> <span class="ni">flex</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="na">flex-direction</span><span class="o">:</span> <span class="ni">column</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="na">justify-content</span><span class="o">:</span> <span class="ni">flex-end</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="na">z-index</span><span class="o">:</span> <span class="mi">2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="na">padding</span><span class="o">:</span> <span class="mi">15</span><span class="kt">px</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="k">@include</span><span class="nd"> respond</span><span class="p">(</span><span class="n">sm</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="na">padding</span><span class="o">:</span> <span class="mi">20</span><span class="kt">px</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="nc">.article-title</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="na">font-size</span><span class="o">:</span> <span class="mi">2</span><span class="kt">rem</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="na">font-weight</span><span class="o">:</span> <span class="mi">500</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="na">color</span><span class="o">:</span> <span class="nf">var</span><span class="p">(</span><span class="o">--</span><span class="n">card-text-color-main</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="k">@include</span><span class="nd"> respond</span><span class="p">(</span><span class="n">sm</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="na">font-size</span><span class="o">:</span> <span class="mi">2</span><span class="mf">.2</span><span class="kt">rem</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>    在<code>themes/hugo-theme-stack/assets/scss/partials/layout/list.scss</code>中添加:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-scss" data-lang="scss"><span class="line"><span class="cl">    <span class="nc">.tag-list--tile</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="na">display</span><span class="o">:</span> <span class="ni">flex</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="nt">article</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="na">width</span><span class="o">:</span> <span class="mi">120</span><span class="kt">px</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="na">height</span><span class="o">:</span> <span class="mi">30</span><span class="kt">px</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="na">margin-right</span><span class="o">:</span> <span class="mi">20</span><span class="kt">px</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="na">flex-shrink</span><span class="o">:</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="nc">.article-title</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="na">margin</span><span class="o">:</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="na">font-size</span><span class="o">:</span> <span class="mi">1</span><span class="mf">.8</span><span class="kt">rem</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="nc">.article-details</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="na">padding-bottom</span><span class="o">:</span> <span class="mi">5</span><span class="kt">px</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="na">text-align</span><span class="o">:</span> <span class="ni">center</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span></code></pre></div><h2 id="添加archives页面对应配置项">添加archives页面对应配置项
</h2><h3 id="设计配置项">设计配置项
</h3><p>    由于目前archives页面有三个板块：<code>Categories</code>，<code>Tags</code>，<code>Dates</code>。考虑添加如下配置项（标注出的为默认配置，不进行配置也会以下面代码块给定的配置渲染）：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">params</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">archives</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">showCategories</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">showTags</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">showDates</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span></code></pre></div><h3 id="修改对应源码读取配置项">修改对应源码读取配置项
</h3><p>    修改<code>layouts/_default/archives.html</code>文件，将<code>{{ if $term }}</code>判断语句添加一个与项，同时<strong>修改变量名</strong>。最终修改后结果如下：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="p">{{</span> <span class="k">if</span> <span class="nf">and</span> <span class="p">(</span><span class="nf">eq</span> <span class="p">(.</span><span class="nx">Site</span><span class="p">.</span><span class="nx">Params</span><span class="p">.</span><span class="nx">archives</span><span class="p">.</span><span class="nx">showCategories</span> <span class="p">|</span> <span class="k">default</span> <span class="kc">true</span><span class="p">)</span> <span class="kc">true</span><span class="p">)</span> <span class="p">(</span><span class="nf">gt</span> <span class="p">(</span><span class="nx">len</span> <span class="err">$</span><span class="nx">cateTerms</span><span class="p">)</span> <span class="mi">0</span><span class="p">)</span> <span class="p">}}</span>
</span></span></code></pre></div><p>    同理，在渲染tags和dates板块的部分使用如下语句对包裹：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="p">{{</span> <span class="k">if</span> <span class="nf">and</span> <span class="p">(</span><span class="nf">eq</span> <span class="p">(.</span><span class="nx">Site</span><span class="p">.</span><span class="nx">Params</span><span class="p">.</span><span class="nx">archives</span><span class="p">.</span><span class="nx">showTags</span> <span class="p">|</span> <span class="k">default</span> <span class="kc">false</span><span class="p">)</span> <span class="kc">true</span><span class="p">)</span> <span class="p">(</span><span class="nf">gt</span> <span class="p">(</span><span class="nx">len</span> <span class="err">$</span><span class="nx">tagTerms</span><span class="p">)</span> <span class="mi">0</span><span class="p">)</span> <span class="p">}}</span>
</span></span><span class="line"><span class="cl"><span class="p">{{</span> <span class="cm">/* 渲染Tags板块 */</span> <span class="p">}}</span>
</span></span><span class="line"><span class="cl"><span class="p">{{</span> <span class="nx">end</span> <span class="p">}}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">{{</span> <span class="k">if</span> <span class="nf">eq</span> <span class="p">(.</span><span class="nx">Site</span><span class="p">.</span><span class="nx">Params</span><span class="p">.</span><span class="nx">archives</span><span class="p">.</span><span class="nx">showDates</span> <span class="p">|</span> <span class="k">default</span> <span class="kc">true</span><span class="p">)</span> <span class="kc">true</span> <span class="p">}}</span>
</span></span><span class="line"><span class="cl"><span class="p">{{</span> <span class="cm">/* 渲染Dates板块*/</span> <span class="p">}}</span>
</span></span><span class="line"><span class="cl"><span class="p">{{</span> <span class="nx">end</span> <span class="p">}}</span>
</span></span></code></pre></div><h2 id="修复category详细页的文章数量异常问题">修复category详细页的文章数量异常问题
</h2><p>    在<code>layouts/_default/list.html</code>文件中进行如下修改：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-diff" data-lang="diff"><span class="line"><span class="cl"><span class="gd">-    &lt;h3 class=&#34;section-count&#34;&gt;{{ T &#34;list.page&#34; (len .Pages) }}&lt;/h3&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+    {{- $filteredPages := where .Pages &#34;.Params.hidden&#34; &#34;!=&#34; true -}}
</span></span></span><span class="line"><span class="cl"><span class="gi">+    &lt;h3 class=&#34;section-count&#34;&gt;{{ T &#34;list.page&#34; (len $filteredPages) }}&lt;/h3&gt;
</span></span></span></code></pre></div><p>    把<code>.Pages</code>的元素个数替换为筛选后的元素个数。</p>
<h2 id="新增分类方式collections">新增分类方式：collections
</h2><h3 id="设计配置项-1">设计配置项
</h3><p>    在<code>layouts/_default/archives.html</code>中添加配置项<code>showCollections</code>。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-diff" data-lang="diff"><span class="line"><span class="cl">params:
</span></span><span class="line"><span class="cl">    archives:
</span></span><span class="line"><span class="cl">        showCategories: true
</span></span><span class="line"><span class="cl"><span class="gi">+        showCollections: true
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>        showTags: false
</span></span><span class="line"><span class="cl">        showDates: true
</span></span></code></pre></div><h3 id="修改archivehtml渲染collections列表">修改archive.html渲染collections列表
</h3><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="p">&lt;!</span><span class="o">--</span> <span class="nx">Collections</span> <span class="nx">Section</span> <span class="o">--</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{{</span><span class="o">-</span> <span class="err">$</span><span class="nx">collectionTaxonomy</span> <span class="o">:=</span> <span class="err">$</span><span class="p">.</span><span class="nx">Site</span><span class="p">.</span><span class="nx">GetPage</span> <span class="s">&#34;collections&#34;</span> <span class="o">-</span><span class="p">}}</span>
</span></span><span class="line"><span class="cl"><span class="p">{{</span><span class="o">-</span> <span class="err">$</span><span class="nx">collectionTerms</span> <span class="o">:=</span> <span class="err">$</span><span class="nx">collectionTaxonomy</span><span class="p">.</span><span class="nx">Pages</span> <span class="o">-</span><span class="p">}}</span>
</span></span><span class="line"><span class="cl"><span class="p">{{</span> <span class="k">if</span> <span class="nf">and</span> <span class="p">(</span><span class="nf">eq</span> <span class="p">(.</span><span class="nx">Site</span><span class="p">.</span><span class="nx">Params</span><span class="p">.</span><span class="nx">archives</span><span class="p">.</span><span class="nx">showCollections</span> <span class="p">|</span> <span class="k">default</span> <span class="kc">false</span><span class="p">)</span> <span class="kc">true</span><span class="p">)</span> <span class="p">(</span><span class="nf">gt</span> <span class="p">(</span><span class="nx">len</span> <span class="err">$</span><span class="nx">collectionTerms</span><span class="p">)</span> <span class="mi">0</span><span class="p">)</span> <span class="p">}}</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nx">h2</span> <span class="nx">class</span><span class="p">=</span><span class="s">&#34;section-title&#34;</span><span class="p">&gt;</span><span class="nx">合集</span> <span class="o">-</span> <span class="p">{{</span> <span class="err">$</span><span class="nx">collectionTaxonomy</span><span class="p">.</span><span class="nx">Title</span> <span class="p">}}&lt;</span><span class="o">/</span><span class="nx">h2</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nx">div</span> <span class="nx">class</span><span class="p">=</span><span class="s">&#34;subsection-list&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nx">div</span> <span class="nx">class</span><span class="p">=</span><span class="s">&#34;category-list--tile&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">{{</span> <span class="k">range</span> <span class="err">$</span><span class="nx">collectionTerms</span> <span class="p">}}</span>
</span></span><span class="line"><span class="cl">            <span class="p">{{</span><span class="o">-</span> <span class="err">$</span><span class="nx">pages</span> <span class="o">:=</span> <span class="p">.</span><span class="nx">Pages</span> <span class="o">-</span><span class="p">}}</span>
</span></span><span class="line"><span class="cl">            <span class="p">{{</span><span class="o">-</span> <span class="err">$</span><span class="nx">filteredPages</span> <span class="o">:=</span> <span class="nx">where</span> <span class="err">$</span><span class="nx">pages</span> <span class="s">&#34;.Params.hidden&#34;</span> <span class="s">&#34;!=&#34;</span> <span class="kc">true</span> <span class="o">-</span><span class="p">}}</span>
</span></span><span class="line"><span class="cl">            <span class="p">{{</span> <span class="k">if</span> <span class="err">$</span><span class="nx">filteredPages</span> <span class="p">}}</span>
</span></span><span class="line"><span class="cl">                <span class="p">{{</span> <span class="nx">partial</span> <span class="s">&#34;article-list/tile&#34;</span> <span class="p">(</span><span class="nx">dict</span> <span class="s">&#34;context&#34;</span> <span class="p">.</span> <span class="s">&#34;size&#34;</span> <span class="s">&#34;250x150&#34;</span> <span class="s">&#34;Type&#34;</span> <span class="s">&#34;taxonomy&#34;</span><span class="p">)</span> <span class="p">}}</span>
</span></span><span class="line"><span class="cl">            <span class="p">{{</span> <span class="nx">end</span> <span class="p">}}</span>
</span></span><span class="line"><span class="cl">        <span class="p">{{</span> <span class="nx">end</span> <span class="p">}}</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="o">/</span><span class="nx">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="o">/</span><span class="nx">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{{</span> <span class="nx">end</span> <span class="p">}}</span>
</span></span></code></pre></div><p>    在文件<code>layouts/_default/archives.html</code>中需要的位置添加如上代码。这篇博客是在<code>categories</code>和<code>tags</code>中间添加。</p>
<h3 id="修改配置文件">修改配置文件
</h3><p>    修改hugo.toml添加如下配置项。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-toml" data-lang="toml"><span class="line"><span class="cl"><span class="p">[</span><span class="nx">taxonomies</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">category</span> <span class="p">=</span> <span class="s1">&#39;categories&#39;</span>
</span></span><span class="line"><span class="cl"><span class="nx">tag</span> <span class="p">=</span> <span class="s1">&#39;tags&#39;</span>
</span></span><span class="line"><span class="cl"><span class="nx">collection</span> <span class="p">=</span> <span class="s1">&#39;collections&#39;</span>
</span></span></code></pre></div><h3 id="新建模板文件">新建模板文件
</h3><p>    在<code>content</code>文件夹下新建文件夹<code>collections</code>，在<code>collections</code>文件夹下如<code>category</code>一般新建分类项。如新建子目录及文件<code>test-collection/_index.md</code>，并在子目录中添加如下内容：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;测试用&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;test&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nn">---</span><span class="w">
</span></span></span></code></pre></div><p>    在这之后就可以在博文的<code>front-matter</code>中添加如下内容，以将这篇博文归类到一个合集中：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-toml" data-lang="toml"><span class="line"><span class="cl"><span class="nx">collections</span> <span class="p">=</span> <span class="s2">&#34;test-collection&#34;</span>
</span></span></code></pre></div><h3 id="效果展示">效果展示
</h3><p>    新建合集<code>rvs-enr-crs</code>选择一篇博文添加<code>collections = &quot;rvs-env-crs&quot;</code>。</p>
<p><img src="/xingfen-star.github.io/post/blogbuild1-archive/2025-02-20-14-10-29-image.png"
	width="1052"
	height="830"
	srcset="/xingfen-star.github.io/post/blogbuild1-archive/2025-02-20-14-10-29-image_hu_b3fea832c9625aa6.png 480w, /xingfen-star.github.io/post/blogbuild1-archive/2025-02-20-14-10-29-image_hu_5198d3734de0f8be.png 1024w"
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="126"
		data-flex-basis="304px"
	
></p>
<p><img src="/xingfen-star.github.io/post/blogbuild1-archive/2025-02-20-14-10-47-image.png"
	width="1730"
	height="742"
	srcset="/xingfen-star.github.io/post/blogbuild1-archive/2025-02-20-14-10-47-image_hu_8a8c3450a92c063a.png 480w, /xingfen-star.github.io/post/blogbuild1-archive/2025-02-20-14-10-47-image_hu_d8ceb941d079daf8.png 1024w"
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="233"
		data-flex-basis="559px"
	
></p>
<p>    可见成功生效。</p>

</section>


    <footer class="article-footer">
    

    <section class="article-lastmod">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



        <span>
            Last updated on Feb 25, 2025 18:19 UTC
        </span>
    </section></footer>


    
</article>

    

    


    
        
    

    <footer class="site-footer">
    <section class="copyright">
        &copy;
        
            2025 -
        
        2025 远楒
    </section>

    <section class="powerby">
        
            星藏点雪，月隐晦明 <br/>
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.29.0">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link
                rel="stylesheet"
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link
                rel="stylesheet"
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/xingfen-star.github.io/ts/main.1b68ca70253b523eabb06a943631ea672d424976a40c495cc6a889635f51d0f9.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>
<style>
    #TableOfContents > ul, ol {
        ul, ol {
            display: none;
        }
        .open {
            display: block;
        }
    }
</style>

<script>
    function initTocHide() {
        
        let toc = document.querySelector(".widget--toc");
        if (!toc) {
            return;
        }
        
        window.addEventListener('scroll', function() {
            
            let currentLi = document.querySelector(".active-class");
            if (!currentLi) {
                return
            }
            
            let elementsByClassName = document.querySelectorAll(".open");
            if (elementsByClassName.length > 0) {
                elementsByClassName.forEach((ul) => {
                    ul.classList.remove("open")
                })
            }
            
            if (currentLi.children.length > 1) {
                currentLi.children[1].classList.add("open")
            }
            
            let ul = currentLi.parentElement;
            do {
                ul.classList.add("open");
                ul = ul.parentElement.parentElement
            } while (ul !== undefined && (ul.localName === 'ul' || ul.localName === 'ol'))
        });
    }
    initTocHide()
</script>

    </body>
</html>
